window.__require=function t(i,s,e){function n(h,c){if(!s[h]){if(!i[h]){var a=h.split("/");if(a=a[a.length-1],!i[a]){var r="function"==typeof __require&&__require;if(!c&&r)return r(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+h+"'")}}var d=s[h]={exports:{}};i[h][0].call(d.exports,function(t){return n(i[h][1][t]||t)},d,d.exports,t,i,s,e)}return s[h].exports}for(var o="function"==typeof __require&&__require,h=0;h<e.length;h++)n(e[h]);return n}({Calculator:[function(t,i,s){"use strict";cc._RF.push(i,"8bbfbYmvG1G7qJhTUt4GQop","Calculator");i.exports={getDuration:function(t,i){return i/t},getVelocity:function(t,i){return t/i},getDeltaDistance:function(t,i){return t*i},getVelocityFromTwoPoint:function(t,i,s){return this.getVelocity(t-i,s)}},cc._RF.pop()},{}],Car:[function(t,i,s){"use strict";cc._RF.push(i,"92ff2ip0T9LHoRNjGlffNOX","Car"),cc.Class({extends:cc.Component,properties:{pos:cc.Node,pos2:cc.Node,duration:2,timer:0,startAction:!1,setValue:!1,index:0,actions:[]},onLoad:function(){this.action=[this.moveCar]},start:function(){},move:function(){this.startAction=!0},update:function(t){this.startAction&&(this.timer+=t,this.timer<this.duration?this.action[this.index].call(this,t):(this.timer=0,this.setValue=!1,this.index++,this.index>this.action.length-1&&(this.startAction=!1)))},moveCar:function(t){this.setValue?(this.node.x+=this.speedX*t,this.node.y+=this.speedY*t):(this.duration=2,this.distanceX=this.pos.position.x-this.node.position.x,this.distanceY=this.pos.position.y-this.node.position.y,this.speedX=this.distanceX/this.duration,this.speedY=this.distanceY/this.duration,this.setValue=!0)},moveCar2:function(t){this.setValue?(this.node.x+=this.speedX*t,this.node.y+=this.speedY*t):(this.duration=2,this.distanceX=this.pos2.position.x-this.node.position.x,this.distanceY=this.pos2.position.y-this.node.position.y,this.speedX=this.distanceX/this.duration,this.speedY=this.distanceY/this.duration,this.setValue=!0)}}),cc._RF.pop()},{}],Chicken:[function(t,i,s){"use strict";cc._RF.push(i,"d7419GHg3dOTaFRNjJeQlRz","Chicken"),cc.Class({extends:cc.Component,properties:{ChickenAnimation:cc.Animation,pos:cc.Node,DieChicken:cc.Node,ChickenSprite:cc.Node,ChickenToTien:cc.Node,Skill:cc.Node,duration:2,timer:0,startAction:!1,setValue:!1,index:0,actions:[]},onLoad:function(){this.ChickenAnimation=this.node.getChildByName("ChickenSprite").getComponent(cc.Animation),this.ChickenSprite=this.node.getChildByName("ChickenSprite"),this.node.scale=.5,this.action=[this.chickenMove,this.chickenDie,this.changeSprite]},start:function(){},move:function(){this.startAction=!0},update:function(t){this.startAction&&(this.timer+=t,this.timer<this.duration?this.action[this.index].call(this,t):(this.timer=0,this.setValue=!1,this.index++,this.index>this.action.length-1&&(this.startAction=!1)))},chickenMove:function(t){this.setValue?(this.node.x+=this.speedX*t,this.node.y+=this.speedY*t,this.node.scale+=this.speedScale*t):(this.ChickenAnimation.play("Chicken"),this.duration=2,this.distanceX=this.pos.position.x-this.node.position.x,this.distanceY=this.pos.position.y-this.node.position.y,this.speedX=this.distanceX/this.duration,this.speedY=this.distanceY/this.duration,this.distanceScale=.7-this.node.scaleX,this.speedScale=this.distanceScale/this.duration,this.setValue=!0)},chickenDie:function(t){if(this.setValue)this.node.x+=this.speedX*t,this.node.y+=this.speedY*t,this.node.scale+=this.speedScale*t;else{this.ChickenAnimation.play("ChickenDie");var i=new cc.Vec2(this.pos.position.x+200,this.pos.position.y-30);this.duration=.5,this.distanceX=i.x-this.node.position.x,this.distanceY=i.y-this.node.position.y,this.speedX=this.distanceX/this.duration,this.speedY=this.distanceY/this.duration,this.setValue=!0}},changeSprite:function(t){this.setValue||(this.duration=t,this.ChickenSprite.active=!1,this.DieChicken.active=!0,this.ChickenToTien.active=!0,this.Skill.getComponent("ThunderController").startThunder())}}),cc._RF.pop()},{}],GameManager:[function(t,i,s){"use strict";cc._RF.push(i,"dac06LmUk5FiJ53KtKD1z8E","GameManager"),cc.Class({extends:cc.Component,properties:{lampList:[cc.Node],lampIndex:0,countDown:3,countDownTxt:cc.Label,chicken:cc.Node,car:cc.Node,timeElapsed:0,lampDelay:1.6,countdownInterval:1,isLightOn:!1,starWalk:!1},onLoad:function(){},start:function(){this.timeElapsed=0},update:function(t){this.isLightOn?(this.lampList[2].getComponent("Lamp").node.color=this.lampList[this.lampIndex].getComponent("Lamp").lampColor,this.timeElapsed+=t,this.timeElapsed>=this.countdownInterval&&(this.timeElapsed=0,this.countDown>0?(console.log(this.countDown),this.countDownTxt.string=this.countDown.toString(),this.countDown--):(this.starWalk||(this.countDownTxt.string="",this.chicken.getComponent("Chicken").move(),this.car.getComponent("Car").move(),this.starWalk=!0),this.isLightOn=!1))):(this.timeElapsed+=t,this.timeElapsed<this.lampDelay?this.timeElapsed<=t&&this.lampIndex<2&&(console.log(this.lampList[this.lampIndex]),this.lampList[this.lampIndex].getComponent("Lamp").startLight()):(this.lampIndex++,this.timeElapsed=0,2==this.lampIndex&&(this.isLightOn=!0)))},countDownNumber:function(){this.countDownTxt.string=this.countDown.toString()}}),cc._RF.pop()},{}],Lamp:[function(t,i,s){"use strict";cc._RF.push(i,"d9310a1QsNLYq5ULbxupr85","Lamp"),cc.Class({extends:cc.Component,properties:{lampColor:cc.Color,defaultColor:cc.Color,count:0,timerFlash:0,timer:0,isStart:!1,isFlashing:!1},onLoad:function(){this.node.color=this.defaultColor},start:function(){},update:function(t){this.isStart&&(this.isFlashing?(this.timerFlash+=t,this.timerFlash>=.1&&(this.node.color=this.defaultColor),this.timerFlash>=.2&&(this.node.color=this.lampColor,this.count++,this.timerFlash=0),3==this.count&&(this.node.color=this.defaultColor,this.isStart=!1)):(this.timer+=t,this.timer>1&&(this.isFlashing=!0)))},startLight:function(){this.node.color=this.lampColor,this.isStart=!0}}),cc._RF.pop()},{}],ThunderController:[function(t,i,s){"use strict";cc._RF.push(i,"8fc36HuZCNJrZYs55NTVLn+","ThunderController"),cc.Class({extends:cc.Component,properties:{Thunders:[cc.Node],timer:0,count:0,index:{default:0,serializable:!1},isStar:{default:0,serializable:!1},spriteCar:cc.Node,exlosion:cc.Node},start:function(){},startThunder:function(){this.isStar=!0},update:function(t){if(1==this.isStar&&(this.timer+=t,this.timer>1&&(this.timer=0,this.Thunders[this.index].active=!0,this.index++,this.index>this.Thunders.length-1&&(console.log(this.index),this.index=0,this.isStar=!1,this.exlosion.active=!1),this.index>=3))){this.exlosion.active=!0;var i=90-20*this.count;this.spriteCar.color=cc.color(i,i,i),console.log(this.spriteCar.color),this.count++}}}),cc._RF.pop()},{}]},{},["Calculator","Car","Chicken","GameManager","Lamp","ThunderController"]);